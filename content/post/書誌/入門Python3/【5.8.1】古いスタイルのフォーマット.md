---
title: "【5.8.1】古いスタイルのフォーマット"
date: 2023-08-05T02:02:19+09:00
tags: [""]
seq: [""]
draft: false
---

- `formatstring % data` という形式を使う
  - `%s`: 文字列
  - `%d`: 10進整数
  - `%x`: 16進整数
  - `%o`: 8進整数
  - `%f`: 10進浮動小数点数
  - `%e`: 指数形式浮動小数点数
  - `%g`: 10進または指数形式浮動小数点数
  - `%%`: リテラルの%

- 複数のデータを置くときには、データをタプルにまとめる
```python
>>> "Our cat %s weights %s pounds" % (cat, weight)
'Our cat Chester weights 28 pounds'
```

`%`と型指定子の間の書式指定文字列には、以下のものを指定する別の値を入れることができる
- 幅の下限
- 文字数の上限
- 配置

- 指定できる値
  - 先頭の`%`文字
  - オプションの配置文字:指定なしか、`+`なら右揃え、`-`なら左揃え
  - オプションのフィールド幅の下限
  - オプションの幅下限と文字数上限を区切る`.`
  - オプションの文字列の上限
    - 変換型が`f`なら精度
  - 上の表に囲まれている変換型

```python
>>> thing = 'woodchuck'
>>> '%s' % thing
'woodchuck'
>>> '%12s' % thing
'   woodchuck'
>>> '%+12s' % thing
'   woodchuck'
>>> '%-12s' % thing
'woodchuck   '
>>> '%.3s' % thing
'woo'
>>> '%12.3s' % thing
'         woo'
>>> '%-12.3s' % thing
'woo         '
```
```python
>>> thing = 98.6
>>> '%f' % thing
'98.600000'
>>> '%12f' % thing
'   98.600000'
>>> '%+12f' % thing
'  +98.600000'
>>> '%-12f' % thing
'98.600000   '
>>> '%.3f' % thing
'98.600'
>>> '%12.3f' % thing
'      98.600'
>>> '%-12.3f' % thing
'98.600      '
```
```python
>>> thing = 9876
>>> '%d' % thing
'9876'
>>> '%12d' % thing
'        9876'
>>> '%+12d' % thing
'       +9876'
>>> '%-12d' % thing
'9876        '
>>> '%.3d' % thing
'9876'
>>> '%12.3d' % thing
'        9876'
>>> '%-12.3d' % thing
'9876        '
```

- 挙動が色々キモいな
  - 整数の時の`%.3d`はあんまり意味ないっぽい　