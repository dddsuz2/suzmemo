---
title: "【6.4】分散データベース"
date: 2023-10-01T01:01:36+09:00
tags: [""]
seq: [""]
draft: false
---

### 内容
- 複数のDBMSをネットワーク経由で結合し、データには1つのDBMSのように見せるもの
- CAP定理
  - 一貫性を考え、複数のサイトで一貫してデータを更新する必要がある
  - 特定のサイトの障害に備え、可用性も考える必要がある
  - システムの通信障害が起こって分断されても処理を継続できるようにする性質のことを分断体制という
  - 分散データベースシステムにおいて、一貫性（C）、可用性（A）、分断耐性（P）の3つのうち、同時に最大2つまでしか満たすことができないという理論
- 分散データベースの透過性
  - データが分散されていないことをユーザーに意識させないための仕組みのこと
    - 位置にたいする透過性
    - 分割に対する透過性
    - 複製に対する透過性
- 2相コミット
  - 複数のサイトにシステムがあっても、全体で1つのシステムとして動く
  - 複数のDBMSにまたがるトランザクションのコミットを、全体でまとめて行う仕組み
    - トランザクションは複数のサブトランザクションに分割される
    - サイトごとに実行
  - 第1相
    - 調停者が他の全てのDBMSにコミット許可を問い合わせ
      - NGの場合ロールバック指示
  - 第2相
    - 調停者はすべてのDBMSにコミットを強制
      - この段階で障害が起きた場合、ロールフォワードする
  - 調停者以外のDBMSでは、第1相コミット要求に返答してから、第2相コミットの指示が来るまでの間は、コミットもロールバックもできない状態になる

---
### ツッコミ・考察
- 

---
### 疑問点
- 


---
### リンク
- 